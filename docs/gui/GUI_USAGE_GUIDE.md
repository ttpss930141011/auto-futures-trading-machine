# GUI 使用指南

## 🚀 快速開始

### 啟動 GUI
```bash
# 確保已安裝所有依賴
poetry install

# 啟動 GUI 應用程式
python app_gui.py
```

## 📱 界面說明

### 1. 主視窗佈局

#### 頂部狀態列
- **左側**：顯示登入狀態（未登入/已登入: 使用者名稱）
- **右側**：顯示已註冊的商品代碼（如 "Register Items: TXF, MXF"）
- **系統狀態指示燈**：
  - 🔴 紅色：停止/錯誤
  - 🟡 黃色：啟動中/停止中
  - 🟢 綠色：運行中
  - ⚫ 灰色：未啟動

### 2. 功能分頁

#### 交易設定分頁
- **左側面板 - 帳戶與商品**
  - 商品選擇：勾選要交易的商品（TXF、MXF）
  - 註冊商品按鈕：將選擇的商品註冊到系統
  - 下單帳戶：下拉選單，自動選擇第一個可用帳戶

- **右側面板 - 交易條件**
  - 動作：買/賣選擇
  - 目標價格：設定進場價格
  - 轉折點：設定價格轉折點
  - 數量：交易口數
  - 停利點（選填）：預設值可在設定中調整
  - 停損點（選填）：預設值可在設定中調整
  - 跟隨條件：是否為跟隨條件
  - 現有條件列表：顯示所有已設定的交易條件

#### 系統監控分頁
- **系統健康狀態**：即時顯示各組件運行狀態
- **市場數據**：顯示即時報價資訊

#### 日誌分頁
- 顯示系統運行日誌
- 提供清除和儲存日誌功能

## 🔄 操作流程

### 自動化功能
1. **自動登入**：系統啟動時會嘗試使用上次的登入資訊自動登入
2. **記憶功能**：
   - 自動載入上次選擇的註冊商品
   - 自動選擇第一個下單帳戶
   - 保存使用者偏好設定

### 手動操作步驟
1. **登入**（如果自動登入失敗）
   - 點擊選單「檔案」→「登入」
   - 輸入帳號、密碼
   - 選擇環境（測試/正式）

2. **註冊商品**
   - 在左側面板勾選要交易的商品
   - 點擊「註冊商品」按鈕

3. **設定交易條件**
   - 填寫交易參數
   - 點擊「新增條件」
   - 可新增多個條件

4. **啟動交易系統**
   - 確認所有設定完成
   - 點擊「啟動交易系統」按鈕
   - 系統會自動檢查前置條件

## 🛡️ 安全機制

- **自動檢查**：啟動前自動檢查所有必要條件
- **狀態監控**：即時顯示各組件運行狀態
- **優雅關閉**：結束程式時自動停止所有交易活動

## ❓ 常見問題

### Q1: 為什麼自動登入失敗？
A: 可能原因：
- 上次登入的 session 已過期
- 密碼已變更
- 網路連線問題

### Q2: 如何清除所有交易條件？
A: 點擊「清除條件」按鈕，確認後將刪除所有條件

### Q3: 系統狀態燈顯示紅色怎麼辦？
A: 檢查日誌分頁查看錯誤訊息，可能需要重新啟動相關組件

## 🔧 進階設定

### 偏好設定儲存位置
使用者偏好設定儲存在：
- Session 資料：`src/data/sessions.json`
- 交易條件：`src/data/conditions.json`

### 日誌檔案位置
- GUI 日誌：`logs/gui.log`
- 系統日誌：`logs/app.log`

## 📝 注意事項

1. **首次使用**：需要手動登入並完成所有設定
2. **環境切換**：測試環境和正式環境的帳戶資料是分開的
3. **多商品交易**：可同時註冊多個商品進行交易
4. **條件管理**：每個條件獨立運作，請確認條件設定正確

## 🚨 錯誤處理

如遇到錯誤，請按照以下步驟處理：

1. 查看日誌分頁的錯誤訊息
2. 檢查系統監控分頁的組件狀態
3. 嘗試重新啟動相關組件
4. 如問題持續，請重新啟動整個應用程式